(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),o=n.n(a),r=n(18),i=n.n(r),s=n(4),l=n(6),u=n(36),d=n(24),j=function(e){return Object(s.a)(Object(s.a)({},e),{},{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",listStyleType:"none",transition:"0.6s ease",margin:0,padding:0})},b=function(e){return Object(s.a)(Object(s.a)({},e),{},{textDecorationStyle:"none",padding:"1.7vh",transition:"0.3s ease"})},h=function(e){return Object(s.a)(Object(s.a)({},e),{},{textDecoration:"none",borderRadius:"50%",padding:"1.5vh",transition:"0.2s ease"})},O=function(e){return Object(s.a)(Object(s.a)({},e),{},{width:"100%",position:"fixed",zIndex:"2",margin:0})},f=n(111),p=n(64),m=n(113),x=n(114),g=n(116),v=n(115),y=n(118),C=n(117),w=n(60),N=n.n(w),k=n(61),S=n.n(k),_=n.p+"static/media/wine-bottle-solid.c0241832.svg",D=n.p+"static/media/seedling.cb6f38c5.svg",B=function(e){return Object(s.a)(Object(s.a)({},e),{},{position:"relative",display:"flex",flexDirection:"row",marginTop:"0",maxHeigth:"100vh",maxWidth:"100vw",paddingTop:"13vh"})},T=function(e){return Object(s.a)(Object(s.a)({},e),{},{position:"relative",flex:"6",marginLeft:"30%"})},R=function(e){return Object(s.a)(Object(s.a)({},e),{},{flex:"3",margin:"0"})},I=function(e){return Object(s.a)(Object(s.a)({},e),{},{position:"absolute",display:"flex",justifyContent:"center",alignSelf:"center",background:"none",width:"100%",top:"40%"})};function E(e){var t,n=e.selection,a=Object(f.a)((function(t){return{root:{width:"100%",minHeight:"85vh",maxWidth:360,paddingLeft:"0.6rem",backgroundColor:"".concat(e.color.backgroundColor),color:"".concat(e.color.color)},nested:{paddingLeft:t.spacing(4)}}})),r=Object(p.a)({typography:{fontFamily:"'Montserrat Alternates', sans-serif"}}),i=a(),u=o.a.useState(!1),d=Object(l.a)(u,2),j=d[0],b=d[1],h=function(t){b(t),t&&(e.setDisable(!0),n((function(e){return Object(s.a)(Object(s.a)({},e),{},{category:t})})))};return Object(c.jsx)("div",{style:Object(s.a)(Object(s.a)({},t),{},{flex:"3",width:"30%",position:"fixed",zIndex:"2"}),children:Object(c.jsx)(m.a,{theme:r,children:Object(c.jsx)(x.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(c.jsx)("div",{id:"nested-list-subheader",children:"Categories"}),className:i.root,children:e.data.map((function(t,a){var o;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(g.a,{button:!0,onClick:e.disable?function(){}:function(){j!==t.id?h(t.id):h("")},children:[Object(c.jsx)(v.a,{children:Object(c.jsx)("img",{src:_,width:"30rem",alt:">>"})}),Object(c.jsx)(y.a,{primary:t.name}),j!==t.id?Object(c.jsx)(N.a,{}):Object(c.jsx)(S.a,{})]}),Object(c.jsx)(C.a,{in:j===t.id,timeout:"auto",unmountOnExit:!0,children:Object(c.jsx)(x.a,{component:"div",disablePadding:!0,children:null===(o=t.type)||void 0===o?void 0:o.map((function(t,a){return Object(c.jsxs)(g.a,{button:!0,className:i.nested,onClick:e.disable?function(){}:function(){e.setDisable(!0),n((function(e){return Object(s.a)(Object(s.a)({},e),{},{type:t})}))},children:[Object(c.jsx)(v.a,{children:Object(c.jsx)("img",{src:D,width:"20rem",alt:">"})}),Object(c.jsx)(y.a,{primary:t})]},a)}))})})]},a)}))})})})}var A=function(e){return Object(s.a)(Object(s.a)({},e),{},{display:"flex",flexDirection:"row",justifyContent:"space-between"})},U=function(e){return Object(s.a)(Object(s.a)({},e),{},{display:"flex",flexDirection:"row",flex:3,justifyContent:"space-between"})},G=function(e){return Object(s.a)(Object(s.a)({},e),{},{display:"flex",flexDirection:"row",justifyContent:"space-between"})},L=function(e){return Object(s.a)(Object(s.a)({},e),{},{display:"flex",flexDirection:"column",flex:8,justifyContent:"space-between",padding:"0 0 0 1.6rem"})},M=function(e){return Object(s.a)(Object(s.a)({},e),{},{position:"relative",display:"flex",flex:4,minWidth:"16rem",minHeight:"16rem",overflowY:"hidden",overflowX:"hidden",justifyContent:"center",margin:"0.4rem",borderRadius:"0.6rem"})},H=function(e){return Object(s.a)(Object(s.a)({},e),{},{display:"flex",justifyContent:"center",padding:"0.6rem",fontFamily:"'Montserrat Alternates', sans-serif"})},P=function(e){return Object(s.a)(Object(s.a)({},e),{},{paddingTop:"10px",fontSize:"90%",fontWeight:"bold"})},z=n.p+"static/media/user-regular.f740127c.svg";function F(e){var t,n=e.data,a=n.name,o=n.owner,r=n.description,i=n.about,l=n.price,u=n.url,d=n.category,j=n.type;return Object(c.jsxs)("div",{style:(t={borderBottom:"0.1rem solid ".concat(e.color.backgroundColor)},Object(s.a)(Object(s.a)({},t),{},{display:"flex",backgroundColor:"#fff",marginLeft:"1.6rem",marginBottom:"1.6rem",borderRadius:"0.6rem"})),children:[Object(c.jsx)("div",{style:M({borderRight:"0.1rem solid ".concat(e.color.backgroundColor)}),children:Object(c.jsx)("img",{className:"card_img",src:u||z,alt:"#"})}),Object(c.jsxs)("div",{style:L(),children:[Object(c.jsxs)("div",{style:A(),children:[Object(c.jsx)("div",{style:P({color:"".concat(e.color.backgroundColor)}),children:a}),Object(c.jsx)("div",{children:o?Object(c.jsx)("button",{style:H(Object(s.a)(Object(s.a)({},e.color),{borderRadius:"0 0.6rem 0 0.3rem",boxShadow:"0 0 0 0.3rem ".concat(e.color.backgroundColor)})),children:"Created By"}):Object(c.jsx)("button",{style:H(Object(s.a)(Object(s.a)({},e.color),{borderRadius:"0 0.6rem 0 0.3rem",boxShadow:"0 0 0 0.3rem ".concat(e.color.backgroundColor)})),children:"Products"})})]}),Object(c.jsxs)("div",{style:U(),children:[Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:o?r:i})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:o?"":d}),Object(c.jsxs)("p",{children:[" ",o?j:""]})]})]}),Object(c.jsxs)("div",{style:G(),children:[o?Object(c.jsx)("button",{style:H(Object(s.a)(Object(s.a)({},e.color),{borderRadius:"0.3rem 0.3rem 0 0",boxShadow:"0 0.3rem 0 0 ".concat(e.color.backgroundColor)})),children:l}):Object(c.jsx)("button",{style:H(Object(s.a)(Object(s.a)({},e.color),{borderRadius:"0.3rem 0.3rem 0 0",boxShadow:"0 0.3rem 0 0 ".concat(e.color.backgroundColor)})),children:"More"}),o?Object(c.jsx)("button",{style:H(Object(s.a)(Object(s.a)({},e.color),{borderRadius:"0.3rem 0 0.6rem 0",boxShadow:"0 0 0 0.3rem ".concat(e.color.backgroundColor)})),children:"BUY"}):Object(c.jsx)("button",{style:H(Object(s.a)(Object(s.a)({},e.color),{borderRadius:"0.3rem 0 0.6rem 0",boxShadow:"0 0 0 0.3rem ".concat(e.color.backgroundColor)})),children:"CONTACT"})]})]})]})}var K=n.p+"static/media/loading.eaeac53a.gif";function W(){return Object(c.jsx)("div",{style:I(),children:Object(c.jsx)("img",{className:"loader",src:K,alt:"LOADING..."})})}function J(e){return Object(c.jsx)("div",{style:e.style,children:0!==e.data.length?e.data.map((function(t){return Object(c.jsx)(F,{color:e.color,data:t},t.id)})):Object(c.jsx)(W,{style:I()})})}function Y(e){return Object(c.jsx)("div",{style:e.style,children:"Side"})}var Q=n(10),X=n.n(Q),Z=n(19),q=n(14),V=n(62),$=n(46),ee=n(37),te=n.n(ee),ne=(n(83),n(84),n(85),{apiKey:"AIzaSyAvmufurMyH9YGzPD68ZdrLuBn-YcGnmu8",authDomain:"olathere-b9869.firebaseapp.com",databaseURL:"https://olathere-b9869.firebaseio.com",projectId:"olathere-b9869",storageBucket:"olathere-b9869.appspot.com",messagingSenderId:"737026632180",appId:"1:737026632180:web:6e53273ac36324dca131a1",measurementId:"G-7MB8JBFMJQ"}),ce=new function e(){var t=this;Object(V.a)(this,e),this.uploadImg=function(){var e=Object(Z.a)(X.a.mark((function e(n,c){var a,o,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Blob([c],{type:"image/jpeg"}),o=new Date,(r=new FormData).append("blob",a,"IMG_".concat(o.getTime(),"_").concat(c.name)),i=t.storeRef.child(n),e.next=7,i.put(r.get("blob"));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.authGoogle=Object(Z.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n=new $.auth.GoogleAuthProvider,e.next=4,$.auth().signInWithPopup(n).then((function(e){t=e.credential.accessToken})).catch((function(e){var t=e.message;alert(t)}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),this.authGoogleSignOut=Object(Z.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.auth().signOut().then((function(){})).catch((function(e){alert(e)}));case 2:case"end":return e.stop()}}),e)}))),this.onCreate=Object(Z.a)(X.a.mark((function e(){var n,c,a=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},c=a.length>1&&void 0!==a[1]?a[1]:t.defCollection,e.abrupt("return",t.db.collection(c).add(n));case 3:case"end":return e.stop()}}),e)}))),te.a.initializeApp(ne),this.auth=te.a.auth(),this.storeRef=te.a.storage().ref(),this.db=te.a.firestore(),this.defCollection=""};function ae(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),o=n[0],r=n[1],i=Object(a.useState)([]),u=Object(l.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)([]),h=Object(l.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),x=m[0],g=m[1],v=Object(a.useState)({category:"",type:""}),y=Object(l.a)(v,2),C=y[0],w=y[1];return Object(a.useEffect)((function(){!function(e){ce.db.collection("category").get().then((function(t){t.forEach((function(t){var n=t.data(),c=Object(s.a)({id:t.id},n);e((function(e){return[].concat(Object(q.a)(e),[c])}))}))}))}(j),function(e,t){ce.db.collection("product").get().then((function(t){t.forEach((function(t){ce.storeRef.child("".concat(t.data().src)).getDownloadURL().then((function(n){var c=t.data(),a=Object(s.a)({id:t.id,url:n},c);e((function(e){return[].concat(Object(q.a)(e),[a])}))}))}))})).then((function(){t(!1)})).catch((function(e){console.log(e)}))}(f,r)}),[]),Object(a.useEffect)((function(){!function(e,t,n){var c,a=e.category,o=e.type,r=ce.db.collection("product");if(o)c=r.where("type","==",o);else{if(!a)return;c=r.where("category","==",a)}c.get().then(function(){var e=Object(Z.a)(X.a.mark((function e(c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((function(e){return[]})),c.forEach(function(){var e=Object(Z.a)(X.a.mark((function e(c){var a,o,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.data(),o=ce.storeRef.child("".concat(a.src)),e.next=4,o.getDownloadURL();case 4:r=e.sent,i=Object(s.a)({id:c.id,url:r},a),n.length?t((function(e){return e.find((function(e){return e.id===i.id}))?Object(q.a)(e):[].concat(Object(q.a)(e),[i])})):t([i]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}(C,f,O),w({category:"",type:""})}),[x]),Object(a.useEffect)((function(){g(!1)}),[C]),Object(c.jsx)("div",{children:o?Object(c.jsx)(W,{}):Object(c.jsxs)("div",{style:B(),children:[Object(c.jsx)(E,{data:d,selection:w,disable:x,setDisable:g,color:e.color}),Object(c.jsx)(J,{data:O,style:T(),color:e.color}),Object(c.jsx)(Y,{style:R(),color:e.color})]})})}function oe(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),o=n[0],r=n[1],i=Object(a.useState)([]),u=Object(l.a)(i,2),d=u[0],j=(u[1],Object(a.useState)([])),b=Object(l.a)(j,2),h=b[0],O=b[1];return Object(a.useEffect)((function(){ce.db.collection("person").get().then((function(e){e.forEach((function(e){ce.storeRef.child("".concat(e.data().src)).getDownloadURL().then((function(t){var n=e.data(),c=Object(s.a)({id:e.id,url:t},n);O((function(e){return[].concat(Object(q.a)(e),[c])}))}))}))})).then((function(){r(!1)}))}),[]),Object(c.jsx)("div",{children:o?Object(c.jsx)(W,{}):Object(c.jsxs)("div",{style:B(),children:[Object(c.jsx)(E,{data:d,color:e.color}),Object(c.jsx)(J,{data:h,style:T(),color:e.color}),Object(c.jsx)(Y,{style:R(),color:e.color})]})})}var re=n(47),ie=n(27);n(86);function se(e){var t,n,o,r,i,u,j,b,h=Object(a.useState)(!0),O=Object(l.a)(h,2),f=O[0],p=O[1],m=Object(a.useState)([]),x=Object(l.a)(m,2),g=x[0],v=x[1],y=Object(a.useState)({}),C=Object(l.a)(y,2),w=C[0],N=C[1],k=Object(a.useState)({}),S=Object(l.a)(k,2),_=S[0],D=S[1],B=Object(a.useState)({}),T=Object(l.a)(B,2),R=T[0],I=T[1],E=Object(a.useState)(null),A=Object(l.a)(E,2),U=A[0],G=A[1],L=Object(a.useState)(null),M=Object(l.a)(L,2),H=M[0],P=M[1],z=Object(a.useState)([]),F=Object(l.a)(z,2),K=F[0],W=F[1],J=Object(a.useState)([]),Y=Object(l.a)(J,2),Q=Y[0],V=Y[1],$=Object(a.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),oe=Object(l.a)(ae,2),se=oe[0],le=oe[1],ue=Object(a.useState)(!1),de=Object(l.a)(ue,2),je=de[0],be=de[1],he=Object(a.useState)(null),Oe=Object(l.a)(he,2),fe=Oe[0],pe=Oe[1],me=Object(a.useState)(new Date),xe=Object(l.a)(me,2),ge=xe[0],ve=xe[1],ye=Object(a.useState)(""),Ce=Object(l.a)(ye,2),we=Ce[0],Ne=Ce[1],ke=Object(d.f)();Object(a.useEffect)((function(){function e(){return(e=Object(Z.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("AUTH_TOKEN")){e.next=8;break}return e.next=3,ce.authGoogle();case 3:t=e.sent,localStorage.setItem("AUTH_TOKEN",t),Ne(t),e.next=9;break;case 8:Ne(localStorage.getItem("AUTH_TOKEN"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("RUN>>>"),function(){e.apply(this,arguments)}(),ce.db.collection("test").doc("Test").get().then((function(e){p(!1)})).catch((function(){alert("No connection"),window.location.reload(!1)})),ce.db.collection("category").get().then((function(e){e.forEach((function(e){var t=e.data(),n=Object(s.a)({id:e.id},t);v((function(e){return[].concat(Object(q.a)(e),[n])}))}))})),ce.db.collection("person").get().then((function(e){e.forEach((function(e){var t=e.data(),n=Object(s.a)({id:e.id},t);W((function(e){return[].concat(Object(q.a)(e),[n])}))}))})),ce.db.collection("product").get().then((function(e){e.forEach((function(e){var t=e.data(),n=Object(s.a)({id:e.id},t);V((function(e){return[].concat(Object(q.a)(e),[n])}))}))})),function(){V([]),W([]),v([])}}),[ge]);var Se=function(){var e=Object(Z.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce.authGoogleSignOut(),localStorage.removeItem("AUTH_TOKEN"),alert("Admin, sign-out successful"),ke.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(e){e.persist(),D(Object(s.a)(Object(s.a)({},_),{},Object(ie.a)({},e.target.name,"".concat(e.target.value?e.target.value:""))))},De=function(e){e.persist(),I(Object(s.a)(Object(s.a)({},R),{},Object(ie.a)({},e.target.name,"".concat(e.target.value?e.target.value:""))))},Be=function(e){e.persist(),N((function(t){var n;return Object(s.a)(Object(s.a)({},t),{},Object(ie.a)({},e.target.name,"".concat(null!==(n=e.target.value)&&void 0!==n?n:"")))}))},Te=function(e){e.persist();var t=e.target.value.split(",").map((function(e){return e.trim()}));N((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(ie.a)({},e.target.name,t))}))},Re=function(){return U&&_.name&&_.description&&_.price&&_.category&&_.type&&_.owner},Ie=function(){return H&&R.name&&R.about&&R.phone&&R.category},Ee=function(){return g.find((function(e){return"".concat(e.id)===_.category}))},Ae=function(e){var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),t},Ue=function(e){return e||""};return Object(c.jsx)(c.Fragment,{children:we&&Object(c.jsxs)("div",{className:f?"displayNone":"styleSc",children:[Object(c.jsx)("button",{onClick:function(){return Se()},style:{position:"fixed"},children:"Exit"}),Object(c.jsxs)("div",{className:Re()?"style":te?"styleGreen":"styleRed",children:[Object(c.jsx)("div",{children:"Create Product"}),Object(c.jsxs)("div",{className:"styleItem",children:[Object(c.jsx)("input",{type:"file",onChange:function(e){G(e.target.files[0])}}),Object(c.jsx)("input",{name:"name",placeholder:"name",onChange:_e,value:Ue(_.name)}),Object(c.jsx)("input",{name:"name_ru",placeholder:"name_ru",onChange:_e,value:Ue(_.name_ru)}),Object(c.jsx)("input",{name:"name_am",placeholder:"name_am",onChange:_e,value:Ue(_.name_am)})]}),Object(c.jsxs)("div",{className:"inSec",children:[Object(c.jsxs)("div",{className:"description",children:[Object(c.jsx)("textarea",{name:"description",placeholder:"description",onChange:_e,className:"textArea",value:Ue(_.description)}),Object(c.jsx)("textarea",{name:"description_ru",placeholder:"description_ru",onChange:_e,className:"textArea",value:Ue(_.description_ru)}),Object(c.jsx)("textarea",{name:"description_am",placeholder:"description_am",onChange:_e,className:"textArea",value:Ue(_.description_am)})]}),Object(c.jsx)("input",{name:"price",placeholder:"price",type:"number",onChange:_e,className:"styleB",value:Ue(_.price)}),Object(c.jsxs)("select",{name:"category",onChange:function(e){_e(e),Ee()},className:"styleB",value:Ue(_.category),children:[Object(c.jsx)("option",{label:"Choose category"}),g.map((function(e,t){return Object(c.jsx)("option",{label:"".concat(e.name),children:"".concat(e.id)},t)}))]}),_.category&&Object(c.jsxs)("select",{name:"type",onChange:_e,className:"styleB",value:Ue(_.type),children:[Object(c.jsx)("option",{label:"Choose type"}),null===(t=Ee())||void 0===t||null===(n=t.type)||void 0===n?void 0:n.map((function(e,t){return Object(c.jsx)("option",{children:e},t)}))]}),!te&&Object(c.jsxs)("select",{name:"owner",onChange:_e,className:"styleB",children:[Object(c.jsx)("option",{label:"Choose owner"}),K.map((function(e,t){return Object(c.jsx)("option",{label:e.name,children:e.id},t)}))]}),te?Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"styleButton",onClick:function(){te&&ce.db.collection("product").doc(fe).update(Object(s.a)({},_)).then((function(){ne(!1),ve(new Date),D((function(e){return{}}))})).catch((function(){return alert("Something happen, nothing is changed!")}))},children:"Update"}),Object(c.jsx)("button",{className:"styleButton",onClick:function(){ne(!1),D((function(e){return{}}))},children:"Cancel"})]}):Object(c.jsx)("button",{className:"styleButton",onClick:function(){Re()&&ce.uploadImg("product/".concat(U.name),U).then((function(e){return ce.onCreate(Object(s.a)(Object(s.a)({},_),{},{src:e.metadata.fullPath,date:new Date}),"product").then((function(e){var t={id:e.id};ce.db.collection("person").doc(_.owner).get().then((function(e){ce.db.collection("person").doc(_.owner).update({products:[].concat(Object(q.a)(e.data().products),[t])}),ve(new Date),D((function(e){return{}}))}))}))}))},children:"Submit"})]}),Object(c.jsx)("div",{style:{fontSize:" 10px"},children:Object(c.jsx)("table",{className:"blueTable",children:Object(c.jsx)("tbody",{children:Q.map((function(e){return Object(c.jsxs)("tr",{children:[Object.keys(Ae(e)).map((function(t,n){return Object(c.jsxs)("td",{children:[Object(c.jsx)("div",{className:"keyTd",children:"".concat(t)}),Object(c.jsx)("div",{className:"valTd",children:"".concat(e[t])})]},n)})),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{onClick:function(){return function(e){var t=K.find((function(t){return t.id===e.owner})),n=e.id,c=Object(re.a)(e,["id"]);pe(n),D((function(e){return Object(s.a)(Object(s.a)({},c),{},{date:new Date,owner:t?t.id:""})})),ne(!0)}(e)},className:"styleButton",children:"Update"}),Object(c.jsx)("button",{onClick:function(){return function(e){ce.storeRef.child(e.src).delete().then((function(){ce.db.collection("product").doc(e.id).delete().then((function(){ce.db.collection("person").doc(e.owner).get().then((function(t){var n=t.data().products.filter((function(t){return t.id!==e.id}));ce.db.collection("person").doc(e.owner).update({products:Object(q.a)(n)})})).catch((function(e){})),ve(new Date)}))})).catch((function(t){alert(t.message),alert("Image not exist! Data of ".concat(e.id," will be deleted")),ce.db.collection("product").doc(e.id).delete().then((function(){ce.db.collection("person").doc(e.owner).get().then((function(t){var n=t.data().products.filter((function(t){return t.id!==e.id}));ce.db.collection("person").doc(e.owner).update({products:Object(q.a)(n)})})).catch((function(e){alert("No owner!",e)})),ve(new Date)})).catch((function(e){alert("Something happen, nothing is changed!",e)}))}))}(e)},className:"styleButton",children:"Delete"})]})]},e.id)}))})})})]}),Object(c.jsxs)("div",{className:Ie()?"style":se?"styleGreen":"styleRed",children:[Object(c.jsx)("div",{children:"Create Person"}),Object(c.jsxs)("div",{className:"styleItem",children:[Object(c.jsx)("input",{type:"file",onChange:function(e){P(e.target.files[0])}}),Object(c.jsx)("input",{name:"name",placeholder:"name",onChange:De,value:Ue(R.name)}),Object(c.jsx)("input",{name:"name_ru",placeholder:"name_ru",onChange:De,value:Ue(R.name_ru)}),Object(c.jsx)("input",{name:"name_am",placeholder:"name_am",onChange:De,value:Ue(R.name_am)})]}),Object(c.jsxs)("div",{className:"inSec",children:[Object(c.jsxs)("div",{className:"description",children:[Object(c.jsx)("textarea",{name:"about",placeholder:"about",onChange:De,className:"textArea",value:Ue(R.about)}),Object(c.jsx)("textarea",{name:"about_ru",placeholder:"about_ru",onChange:De,className:"textArea",value:Ue(R.about_ru)}),Object(c.jsx)("textarea",{name:"about_am",placeholder:"about_am",onChange:De,className:"textArea",value:Ue(R.about_am)})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{name:"phone",placeholder:"phone",onChange:De,className:"styleB",value:Ue(R.phone)}),Object(c.jsx)("input",{name:"phone1",placeholder:"phone1",onChange:De,className:"styleB",value:Ue(R.phone1)})]}),Object(c.jsx)("input",{name:"category",placeholder:"category",onChange:De,className:"styleB",value:Ue(R.category)}),se?Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"styleButton",onClick:function(){se&&ce.db.collection("person").doc(fe).update(Object(s.a)({},R)).then((function(){le(!1),ve(new Date),I((function(e){return{}}))})).catch((function(){return alert("Something happen, nothing is changed!")}))},children:"Update"}),Object(c.jsx)("button",{className:"styleButton",onClick:function(){le(!1),I((function(e){return{}}))},children:"Cancel"})]}):Object(c.jsx)("button",{className:"styleButton",onClick:function(){Ie()&&ce.uploadImg("person/".concat(H.name),H).then((function(e){return ce.onCreate(Object(s.a)(Object(s.a)({},R),{},{src:e.metadata.fullPath,date:new Date,products:[]}),"person").then((function(e){ve(new Date),I((function(e){return{}}))}))}))},children:"Submit"})]}),Object(c.jsx)("div",{style:{fontSize:" 10px"},children:Object(c.jsx)("table",{className:"blueTable",children:Object(c.jsx)("tbody",{children:K.map((function(e){return Object(c.jsxs)("tr",{children:[Object.keys(Ae(e)).map((function(t,n){return Object(c.jsxs)("td",{children:[Object(c.jsx)("div",{className:"keyTd",children:"".concat(t)}),Object(c.jsx)("div",{className:"valTd",children:"".concat(e[t])})]},n)})),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{onClick:function(){return function(e){var t=e.id,n=Object(re.a)(e,["id"]);pe(t),I(Object(s.a)(Object(s.a)({},n),{},{date:new Date})),le(!0)}(e)},className:"styleButton",children:"Update"}),Object(c.jsx)("button",{onClick:function(){return function(e){ce.storeRef.child(e.src).delete().then((function(){ce.db.collection("person").doc(e.id).delete().then((function(){ve(new Date)}))})).catch((function(t){alert(t.message),alert("Image not exist! Data of ".concat(e.id," will be deleted")),ce.db.collection("person").doc(e.id).delete().then((function(){ve(new Date)})).catch((function(e){alert("Something happen, nothing is changed!")}))}))}(e)},className:"styleButton",children:"Delete"})]})]},e.id)}))})})})]}),Object(c.jsxs)("div",{className:"style",children:[Object(c.jsx)("div",{children:"Create Category"}),Object(c.jsxs)("div",{className:"inSec",children:[Object(c.jsxs)("div",{className:"input0",children:[Object(c.jsx)("input",{className:"input1",name:"name",placeholder:"name",onChange:Be,value:Ue(w.name)}),Object(c.jsx)("input",{className:"input2",name:"type",placeholder:"type",onChange:Te,value:null!==(o=null===(r=w.type)||void 0===r?void 0:r.join(","))&&void 0!==o?o:""})]}),Object(c.jsxs)("div",{className:"input0",children:[Object(c.jsx)("input",{className:"input1",name:"name_ru",placeholder:"name_ru",onChange:Be,value:Ue(w.name_ru)}),Object(c.jsx)("input",{className:"input2",name:"type_ru",placeholder:"type_ru",onChange:Te,value:null!==(i=null===(u=w.type_ru)||void 0===u?void 0:u.join(","))&&void 0!==i?i:""})]}),Object(c.jsxs)("div",{className:"input0",children:[Object(c.jsx)("input",{className:"input1",name:"name_am",placeholder:"name_am",onChange:Be,value:Ue(w.name_am)}),Object(c.jsx)("input",{className:"input2",name:"type_am",placeholder:"type_am",onChange:Te,value:null!==(j=null===(b=w.type_am)||void 0===b?void 0:b.join(","))&&void 0!==j?j:""})]}),je?Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"styleButton",onClick:function(){ce.db.collection("category").doc(fe).update(Object(s.a)({},w)).then((function(){ve(new Date),N((function(e){return{}})),be(!1)})).catch((function(){return alert("Something happen, nothing is changed!")}))},children:"Update"}),Object(c.jsx)("button",{className:"styleButton",onClick:function(){be(!1),N((function(e){return{}}))},children:"Cancel"})]}):Object(c.jsx)("button",{className:"styleButton",onClick:function(){ce.onCreate(Object(s.a)(Object(s.a)({},w),{},{date:new Date}),"category").then((function(){ve(new Date),N((function(e){return{}}))}))},children:"Submit"})]})]}),Object(c.jsx)("div",{children:g.map((function(e,t){var n,a,o,r,i,l;return Object(c.jsxs)("div",{className:"inputCat",children:[Object(c.jsx)("div",{className:"keyTd",children:"[ ".concat(e.id," ] ").concat(null!==(n=e.name)&&void 0!==n?n:""," --- ").concat(null!==(a=e.name_ru)&&void 0!==a?a:""," --- ").concat(null!==(o=e.name_am)&&void 0!==o?o:"")}),Object(c.jsx)("div",{className:"types",children:null===(r=e.type)||void 0===r?void 0:r.map((function(e,t){return Object(c.jsx)("span",{children:" ".concat(e,"--")},t)}))}),Object(c.jsx)("div",{className:"types",children:null===(i=e.type_ru)||void 0===i?void 0:i.map((function(e,t){return Object(c.jsx)("span",{children:" ".concat(e,"--")},t)}))}),Object(c.jsx)("div",{className:"types",children:null===(l=e.type_am)||void 0===l?void 0:l.map((function(e,t){return Object(c.jsx)("span",{children:" ".concat(e,"--")},t)}))}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:function(){return function(e){var t=e.id,n=Object(re.a)(e,["id"]);pe(t),N((function(e){return Object(s.a)({},n)})),be(!0)}(e)},className:"styleButton",children:"Update"}),Object(c.jsx)("button",{onClick:function(){return function(e){ce.db.collection("category").doc(e.id).delete().then((function(){ve(new Date)}))}(e)},className:"styleButton",children:"Delete"})]})]},t)}))})]})})}function le(e){var t=e.style;return Object(c.jsx)("div",{style:t,children:"LOGO"})}var ue={backgroundColor:"#2980b9",color:"#ffffff"},de={backgroundColor:"#3498db",color:"#ffffff"},je={backgroundColor:"#27ae60",color:"#ffffff"},be={backgroundColor:"#2ecc71",color:"#ffffff"},he={backgroundColor:"#84817a",color:"#ffffff"},Oe={backgroundColor:"#d1ccc0",color:"#ffffff"};n(88);function fe(){var e,t=ue,n=de,o=je,r=be,i=he,f=Oe,p=Object(a.useState)("home"),m=Object(l.a)(p,2),x=m[0],g=m[1],v=Object(a.useState)({colorChange:Object(s.a)({},o),colorMain:Object(s.a)({},r)}),y=Object(l.a)(v,2),C=y[0],w=y[1],N=C.colorChange,k=C.colorMain,S=function(e,t){w({colorChange:Object(s.a)({},e),colorMain:Object(s.a)({},t)})};return Object(a.useEffect)((function(){return function(){}}),[]),Object(c.jsx)(u.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{style:O(),children:[Object(c.jsx)(le,{style:(e=N,Object(s.a)(Object(s.a)({},e),{},{width:"100%",transition:"0.6s ease",paddingTop:"1vh",paddingBottom:"1vh",margin:0}))}),Object(c.jsx)("nav",{style:O(),children:Object(c.jsxs)("ul",{style:j(N),children:[Object(c.jsx)("li",{style:b("home"===x?k:N),children:Object(c.jsx)(u.b,{style:h("home"===x?k:N),to:"/",onClick:function(){g("home"),S(t,n)},children:"Home"})}),Object(c.jsx)("li",{style:b("users"===x?k:N),children:Object(c.jsx)(u.b,{style:h("users"===x?k:N),to:"/users",onClick:function(){g("users"),S(i,f)},children:"Users"})})]})})]}),Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{path:"/users",children:Object(c.jsx)(oe,{color:N})}),Object(c.jsx)(d.a,{path:"/admin",children:Object(c.jsx)(se,{})}),Object(c.jsx)(d.a,{path:"/",children:Object(c.jsx)(ae,{color:N})}),Object(c.jsx)(d.a,{path:"*",children:Object(c.jsx)(pe,{})})]})]})})}function pe(){var e=Object(a.useLocation)();return Object(c.jsx)("div",{children:Object(c.jsxs)("h3",{children:["No match for ",Object(c.jsx)("code",{children:e.pathname})]})})}i.a.render(Object(c.jsx)(fe,{}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.361625bb.chunk.js.map